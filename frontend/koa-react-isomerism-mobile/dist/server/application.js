"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _koa=_interopRequireDefault(require("koa")),_koaBody=_interopRequireDefault(require("koa-body")),_server=_interopRequireDefault(require("react-dom/server")),_react=_interopRequireDefault(require("react")),_nodeFetch=_interopRequireDefault(require("node-fetch")),_Skeleton=_interopRequireDefault(require("./Skeleton"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const application=new _koa.default;application.use((0,_koaBody.default)()),application.use(async e=>{if("GET"===e.method)switch(!0){case Array.isArray(e.path.match(/^\/$/)):e.body=_server.default.renderToString(_react.default.createElement(_Skeleton.default,{pathname:"/"}));break;case Array.isArray(e.path.match(/^\/user$/)):e.body=_server.default.renderToString(_react.default.createElement(_Skeleton.default,{pathname:"/user"}));break;case Array.isArray(e.path.match(/^\/static\/([0-9a-zA-Z\.\-]+)$/)):{var[,t]=e.path.match(/^\/static\/([0-9a-zA-Z\.\-]+)$/);const a=await(0,_nodeFetch.default)("http://localhost:10101/"+t,{method:"GET"});t=await a.text();e.body=t;break}}});var _default=application;exports.default=_default;